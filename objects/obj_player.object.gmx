<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sp_player</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//29/2/2016
///Init
spd = 2.5
//spd = 2.5*global.move_speed/4
health = 100
score = 0
cooldown = false
shoot = 0.05
global.energy = 100
global.activo = 0
global.boss_health = 100
global.mini_boss_1 = 70
cd_recarga = 0



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>cd_recarga = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>cooldown = false;

if (shoot== 1){
    shoot = 0;
}
else {
    shoot = 1;
}
//def


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Input
if gamepad_is_connected(0) gamepad_set_axis_deadzone(0, 0.09)
uKey = keyboard_check(ord('W')) || (gamepad_axis_value(0,gp_axislv) &lt; 0)
dKey = keyboard_check(ord('S')) || (gamepad_axis_value(0,gp_axislv) &gt; 0)
//lKey = -(keyboard_check(ord('A')) || (gamepad_axis_value(0,gp_axislh) &lt; 0));
lKey = keyboard_check(ord('A')) || (gamepad_axis_value(0,gp_axislh) &lt; 0)
rKey = keyboard_check(ord('D')) || (gamepad_axis_value(0,gp_axislh) &gt; 0)
shootKey = keyboard_check(ord('U')) || (gamepad_button_check(0,gp_shoulderrb))
shieldKey = gamepad_button_check(0,gp_shoulderlb)
//shieldKey = gamepad_button_check_pressed(0,gp_shoulderlb)&amp;&amp; gamepad_button_check_pressed(0,gp_shoulderrb)
releasedKey = gamepad_button_check_released(0,gp_shoulderlb)|| gamepad_button_check_released(0,gp_shoulderrb)
//shieldKey = keyboard_check_pressed(ord('J')) || ((gamepad_button_check_pressed(0,gp_shoulderlb))&amp;&amp; (gamepad_button_check_pressed(0,gp_shoulderrb)));
//shootKey = mouse_check_button(mb_left);

if (uKey) {
    y-=spd;
}
if (dKey) {
    y+=spd;
}
if (lKey) {
    x-=spd;
}
if (rKey) {
    x+=spd;
}
//y
y = clamp(y, 0+sprite_height/2, 288-sprite_height/2);
//x
x = clamp(x, 120+sprite_width/2, 392-sprite_width/2);

//checking for death
//if (global.hp &lt;= 0) {
if (health &lt;= 0) {
    instance_destroy();
}
////////////////////////////////Disparo alternado////////////////////////////////////////////
if(shoot &gt; 0){
//Shooting
    if (shootKey &amp;&amp; cooldown == false &amp;&amp; !shieldKey){
        //insertar sprite
        //sprite_index=spr_left_shoot;    
        instance_create(x-8,y,o_bullet);
        //sound shooting
        audio_play_sound(snd_player, 1, false);
        global.energy -= 0.4
        cooldown = true
        cd_recarga = 0
        alarm[0] = 5
        alarm[1] = 75
    }
    /*
    if keyboard_check_released(ord('U')){
        //sprite_index=spr_body;
        shoot = 0;
    }*/
}
else{
    if (shootKey &amp;&amp; cooldown == false &amp;&amp; global.energy &gt; 10){
            //insertar sprite
            //sprite_index=spr_right_shoot;    
            instance_create(x+8,y,o_bullet)
            //sound shooting
            audio_play_sound(snd_player, 1, false)
            global.energy -= 0.4
            cooldown = true
            cd_recarga = 0
            alarm[0] = 5
            alarm[1] = 75
        }
        /*
        if keyboard_check_released(ord('U')){
            //sprite_index=spr_body;
            shoot = 1;
        }*/
    }
//////////////////////////////Energy Regen////////////////////////////////////////
if global.energy &lt; 0
{
global.energy = 0
}
if (cd_recarga == 1)
{
    energyGainRate = 0.8
    if(global.energy &lt; 100){
        global.energy += energyGainRate
    }
    if(global.energy &gt;= 100){
        cd_recarga = 0
        global.energy = 100
    }
}    

/////////////////////////////Energy Shield/////////////////////////////////////////

if (shieldKey &amp;&amp; shootKey &amp;&amp; global.energy &gt;= 1 !=releasedKey){
    escudo = instance_create(x,y,obj_shield)
    escudo.creador = id
    global.energy -= 0.2
    global.activo = 1
    cd_recarga = 0
} else {
    if instance_exists(obj_shield)
    {
        with obj_shield
        {  instance_destroy()}      
        alarm[1] = 75
        cd_recarga = 0
        global.activo = 0
    }
}

////////////////////////////////GAME OVER////////////////////////////////////////////
if (health &lt;= 0) {
    draw_text(room_width-400, 300, "GAME OVER")
    //if (audio_is_playing(bg_music) == false)
    //{
    //audio_play_sound(bgm,0,false)
    audio_stop_sound(bgm)
    //}
    room_restart()
} 


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_boss_bullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>health -= 10;
with (other)
    {
     instance_destroy();
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bullet_enemy">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>health -= 10;
with (other)
    {
     instance_destroy();
    }

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>211</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_sound</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>6</kind>
            <sound>snd_hit_player</sound>
          </argument>
          <argument>
            <kind>3</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="82">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>game_restart()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>game_end()
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
